app:
  cors:
    allowed-origins: []
    allowed-methods: [GET,POST,PUT,PATCH,DELETE,OPTIONS]
    allowed-headers: [Authorization,Content-Type]
    exposed-headers: [Authorization,Content-Type]
    allow-credentials: true
    max-age: 3600
  frontend:
    base-url: ""
    verify-path: "/"
  dynamo:
    tables:
      email_suppression: email_suppressions

spring:
  application:
    name: ph-shoes-user-account-service
  jackson:
    serialization:
      write-dates-as-timestamps: false
    deserialization:
      adjust-dates-to-context-time-zone: false
  mvc:
    problemdetails:
      enabled: false
  devtools:
    restart:
      enabled: false

aws:
  region: ap-southeast-1
  endpoint: ${AWS_ENDPOINT:}   # empty = real AWS; override in dev for LocalStack

notification:
  transport: sesv2
  email:
    from: "PH Shoes <no-reply@ph-shoes.app>"
    subjectPrefix: "[PH-Shoes]"
    listUnsubscribe: "<mailto:unsubscribe@ph-shoes.app>, <https://phshoesproject.com/unsubscribe>"
    listUnsubscribePost: "List-Unsubscribe=One-Click"
  ses:
    region: ${AWS_REGION:ap-southeast-1}
    endpoint: ${aws.endpoint}
    configurationSet:

verification:
  ttlSeconds: 900
  secret: ${VERIFICATION_SECRET:dev-secret-change-me}
  verificationLink: ${VERIFICATION_LINK_BASE_URL:http://localhost:8082/api/v1/verify}
  notMeLink: ${VERIFICATION_LINK_BASE_URL:http://localhost:8082/api/v1/verify/not-me}

server:
  port: ${PORT:8082}
  error:
    include-stacktrace: never
    include-message: never

management:
  endpoints:
    web:
      exposure:
        include: health,info

logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level traceId=%X{traceId} %logger{36} - %msg%n"
  level:
    root: DEBUG

schema:
  migrations:
    enabled: true
    revertOnError: true
    bootstrapIfMissing: true
    initial: 0.0.0
    tablePrefix: ""
    serviceName: accounts_service